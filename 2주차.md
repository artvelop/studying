# 2주차

## 알아볼것들

    1. 컴퓨터 하드웨어를 구성하는 프로세서, 메모리, 주변장치, 시스템버스를 알아본다.

    2. 메모리의 역할과 계층 구조를 알아본다.

    3. 컴퓨터 시스템의 동작 원리를 알아본다.

    4. 아스날

    5. 프로그램의 기본 단위인 명령어의 구성과 그 실행 주기를 알아본다.

    6. 인터럽트의 개념과 처리 과정을 알아본다.

## 컴퓨터 하드웨어를 나눠보자

CPU  | 메모리(주) | 주변장치

주변장치                 

    I/O장치 - input/output 입/출력장치
    저장장치 - 일단 이건 메모리(주)가 아님
        SSD
        USB
        디스크
        HDD 등등등...  
            ↑↑↑
            이 저장장치들은 용량은 크고 싸지만 CPU와 떨어져있어서 속도가 느리다
            그리하여 데이터를 영구적으로 보관하는 용도로 쓰임 -> 비휘발성
    그외버스

메모리(주) 

    한글로 주기억장치라고함
    RAM <> CPU와의 소통
    RAM에는 OS에서 정의된 0과 1의 집합으로 나타내진다
        >>이걸 프로세스 또는 instance 라고한다.
        >>(저장장치에 저장된 0과 1의 집합은 프로그램이라고한다.)
            ↑↑↑
            간단하게 말해서 실행중이면 프로세스 그냥 실행이있는데 저장장치에 저장되어있으면 프로그램

CPU

    프로세서
        연산장치(ALU)
        레지스터(Register) << 일단 스펠링 틀릴 수도 있다
        제어장치(Control Device)

## 컴퓨터의 하드웨어 구성을 알아보자

### 이거 작성하다보니까 뭔가 위에 내용이랑 비슷함

컴퓨터 시스템

    데이터를 처리하는 물리적인 기계장치인 하드웨어와 어떤 작업을 지시하는 명령어로 작성한 프로그램인 소프트웨어로 구성

컴퓨터 하드웨어

    하드웨어는 프로세서, 메모리(기억장치), 주변장치로 구성되고, 이들은 시스템 버스로 연결

프로세서CPU(중앙처리장치)

    컴퓨터 하드웨어 구성 요소 중 운영체제와 가장 밀접한 부분으로, 컴퓨터의 모든 장치의 동작을 제어하고 연산 수행

프로세스

    사용자가 정보를 변경할 수 없는 레지스터이다. 프로세서의 상태와 제어를 관리

    프로그램 카운터
        다음에 시행할 명령어의 주소를 보관하는 레지스터이다. 
        계수기로 되어 있어 실행할 명령어를 메모리에서 읽으면 
        명령어의 길이만큼 증가하여 다음 명령어를 가리키며, 
        분기 명령어는 목적 주소로 갱신할 수 있다.

    명령어 레지스터 
        현재 실행하는 명령어를 보관하는 레지스터이다.

    누산기
        데이터를 일시적으로 저장하는 레지스터이다.
    
    메모리 주소 동작 레지스터
        프로세서가 참조하려는 데이터의 주소를 명시하여 메모리에 접근하는 버퍼 레지스터이다.
    
    메모리 버퍼 레지스터
        프로세서가 메모리에서 읽거나 메모리에 저장할 데이터 지배를 보관하는 버퍼레지스터이다. 
        메모리 데이터 레지스터라고도 한다.

메모리 계층 구조

    **결론적으로 만든이유는 돈이다**

    속도 : 레지스터 > 캐시 > 메인 메모리 > 보조기억장치
    용량 : 레지스터 < 캐시 < 메인 메모리 < 보조기억장치

메모리

    메인 메모리
        다수의 셀로 구성되며, 각 셀은 비트로 구성
        셀이 K비트이면 셀에 2의k승 값이 저장이 가능
        메인 메모리에 데이터를 저장할 때는 셀 한개나 여러 개에 나눠서 저장
        셀은 주소로 참조하는데, n비트이라면 주소 범위는 0~2의n-1승
        (32비트이면 2의 32승, 64비트이면 2의 64승)
        한 개의 셀의 크기는 8비트 (Capacity)

캐시

    (멍때리다가 수업 어느정도 놓침)
    (개념아는거 필수다)

    쓰는이유: 속도보안을 위해 쓴다.

    동작방식<<당장배우기엔 좋지않음>>
        RAM과 CPU사이에 데이터를 주고 받는데
        CPU는 RAM에서 데이터를 가져오지 않고 캐시에서 가져온다
        캐시는 용량이 조그마하지만 속도가 빠르다(수업 놓쳐서 속도빠른이유 조사할거임)
        RAM->캐시 데이터나르는단위 block
        캐시->CPu 데이터나르는단위 까먹음
        캐시도 버퍼라고부른다(buffer은 임시메모리)
        태그라는 알고리즘 알아보기

    공간적 지역성
    시간적 지역성

## 명령어의 기본 구조

    연산 부호(오피코드)
    - 프로세서가 실행할 동작인 연산 지정
    - 산술 연산, 보수 등 연산 정의
    - 연산 부호가 n비트이면 최대 2의n승개 연산이 가능

    피연산자
    - 연산할 데이터 정보 저장
    - 데이터는 레지스터나 메모리, 가상 기억장치, 입출력장치 등에 위치할 수 있는데 보통 데이터 자체보다는 데이터의 위치 저장

    직접 주소와 간접 주소
    -피연산자의 위치를 명시하는 방법을 추가하거나, 다음 명령어의 위치를 나타내는 주소를 추가 가능
    -직접 주소
        피연산자에 데이터가 있는 레지스터나 메모리 주소 지정
    -간접 주소
        레지스터나 메모리 주소 정보 지정
    
## 명령어의 실행과정

    1. 명령어 인출
    2. 명령어 해석, 프로그램 카운터 변경
    3. 피연산자 인출
    4. 명령어 실행
    5. 결과 저장

## 명령어의 실행 사이클

    (이부분 이해가 안됐음 조사해보기)
    
    1. 시작
    2. 인출
    3. 실행
    4. 종료
    
    -인출 사이클
    -실행 사이클
    -간접 사이클
    -인터럽트 사이클

## 명령어의 실행
    (이부분도 놓침)

    -----------
    |PC -> MAR
    |-------
    |Memory->MBR
    |PC+1 ->PC
    |-------
    |MPR ->IR
    -----------

## 인터럽트 명령어

    강제적으로 다른 프로그램의 실행을 요구하는 명령어

## 인터럽트 처리 과정

    1. 프로그램 A를 실행, 프로그램 카운터는 명령어를 가리킴

    2. 현재 명령어를 종료, 레지스터와 모든 내용을 스택영역에 보내고 pc에는 인터럽트 처리 프로그램의 시작 위치로 지정하고 제어를 남긴 프로그램 B 실행

    3. 스택영역이 있던 내용을 레지스터에다가 다시 저장하며, 프로그램 A가 다시 시작하는 위치를 저장하고 중단했던 프로그램 A를 재실행